const fs  = require ('fs')

const path  = require ('path')

const GinkoError = require('../Util/GinkoError')

module.exports = function fromDir(paths,filter){
            

    try{
        var files =  fs.readdirSync(paths)
        }catch (e)  {throw new GinkoError('Ruta de comandos invalida') }

        let found = new Array();
        
        files.forEach(fil => {

            if(fs.lstatSync(paths + '/' + fil).isDirectory()) {

                var file = fs.readdirSync(paths + '/' + fil)
                        
                file.forEach( fill2 => {
                           
                    if(fill2 == `${filter}.js`) return found.push(`${fil}\\${fill2}`) 
                             
                })     
            }

        })

       let ff = files.filter(f => f == `${filter}.js` && f.split(".").pop() === "js")

        
        if(found.length > 1) return found
        else if(ff.length > 0) return ff[0]
        else return false
};
